(this.webpackJsonpshopinglistapp=this.webpackJsonpshopinglistapp||[]).push([[0],{14:function(t,e,a){t.exports=a(24)},19:function(t,e,a){},24:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),i=a(11),o=a.n(i),c=(a(19),a(7)),l=a(1),r=a(2),p=a(3),m=a(5),d=a(4),u=a(6),g=function(t){function e(){return Object(r.a)(this,e),Object(m.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"homeView"},s.a.createElement("img",{className:"home-logo",src:"logo192.png",alt:"Logo"}),s.a.createElement("h1",null,"Welcome! to Shopaper."),s.a.createElement("button",{className:"ui black button",onClick:function(){return t.props.toggleModal("addShoppingList")}},"Create Shoping List")))}}]),e}(n.Component),h=a(9),b=a.n(h),f=new(a(12).a)("Shopaper");f.version(1).stores({shopaperData:"key, data"}),f.open();var v=function(t,e){console.log(e),f.transaction("rw",f.shopaperData,(function(){f.shopaperData.update(t,Object(l.a)({},e)).then((function(a){a||f.shopaperData.add(Object(l.a)({key:t},e))}))})).catch((function(t){console.log(t.stack||t)}))},E=function(t){var e;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e={},a.next=3,b.a.awrap(f.shopaperData.get(t).then((function(t){e=Object(l.a)({},t)})).catch((function(t){alert("Ooops: "+t)})));case 3:return a.abrupt("return",e);case 4:case"end":return a.stop()}}))},L=function(t){f.shopaperData.where("key").equals(t).delete().then((function(t){return console.log("Deleted "+t+" objects"),!0}))},N=function(t){var e=new Date(t);return"".concat(function(t){var e=t.getDate(),a=["Jan","Feb","Mar","April","May","June","July","Aug","Sept","Oct","Nov","Dec"][t.getMonth()],n=t.getFullYear(),s=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"][t.getDay()],i="".concat(e).concat(function(t){if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(e));return"".concat(s,", ").concat(i," ").concat(a," ").concat(n)}(e)," - ").concat(function(t){var e=t.getHours(),a=t.getMinutes(),n=e>=12?"PM":"AM";return a=a<10?"0"+a:a,"".concat(e=(e%=12)||12,":").concat(a," ").concat(n)}(e))},y={};y.add_new=v,y.fetchData=E,y.deleteTable=L,y.time=N;var S=y,k=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).editItem=function(t){a.props.toggleModal("updateShoppingList",t)},a.deleteItem=function(t,e){var n=document.getElementById("delete_shop_list-".concat(e));n.className=n.className+" loading disabled";var s=a.state.data;delete s[t],S.deleteTable("key"),S.add_new("key",Object(l.a)({},s)),setTimeout((function(){n.className=n.className.replace(" loading disabled",""),a.props.getData()}),1e3)},a.state={data:a.props.data},a}return Object(u.a)(e,t),Object(p.a)(e,[{key:"componentDidUpdate",value:function(t){t.data!==this.props.data&&this.setState({data:this.props.data})}},{key:"render",value:function(){var t=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"shoppingListView"},s.a.createElement("div",{className:"head"},s.a.createElement("img",{src:"logo64.png",alt:"Logo"}),s.a.createElement("button",{className:"ui black button",onClick:function(){return t.props.toggleModal("addShoppingList")}},"Create Shoping List")),s.a.createElement("div",{style:{marginTop:"40px"},className:"body-content"},Object.keys(this.state.data).map((function(e,a){return s.a.createElement("div",{className:"shoppingList pointer"},s.a.createElement("div",{className:"left-details",onClick:function(a){return t.props.viewShoppingList(!0,e,t.state.data[e])}},s.a.createElement("div",{className:"serial-no"},a+1,"."),s.a.createElement("div",{className:"name-date-shop-list"},s.a.createElement("p",{style:{marginBottom:"0px"}},e),s.a.createElement("span",null,S.time(t.props.data[e].dateCreate)))),s.a.createElement("div",{className:"right-actions"},s.a.createElement("button",{id:"add_shop_list-".concat(a),onClick:function(){return t.props.toggleModal("addItemToList",e)},class:"ui primary compact icon button"},s.a.createElement("i",{class:"plus icon"})),s.a.createElement("button",{id:"edit_shop_list-".concat(a),onClick:function(){return t.editItem(e,a)},class:"ui primary compact icon button"},s.a.createElement("i",{class:"pencil alternate icon"})),s.a.createElement("button",{id:"delete_shop_list-".concat(a),onClick:function(){return t.deleteItem(e,a)},class:"ui primary compact icon button"},s.a.createElement("i",{class:"trash alternate icon"}))))})))))}}]),e}(n.Component),O=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).addShoppingList=function(){a.state.shoppingListName?(a.setState({loading:!0}),S.add_new("key",Object(c.a)({},a.state.shoppingListName,{dateCreate:(new Date).getTime(),items:[]})),setTimeout((function(){a.props.toggleModal("addShoppingList"),a.props.getData()}),1e3)):a.setState({empty:!0})},a.state={shoppingListName:"",empty:!1,loading:!1},a}return Object(u.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"addShoppingList-modal",className:"modal",onClick:function(e){return"addShoppingList-modal"===e.target.id?t.props.toggleModal("addShoppingList"):null}},s.a.createElement("div",{className:"container"},s.a.createElement("h4",null,"Create your shopping list"),s.a.createElement("div",{style:{width:"100%"},class:"ui left icon ".concat(this.state.empty?"error":""," input")},s.a.createElement("input",{type:"text",className:"custom-input",value:this.state.shoppingListName,placeholder:"Enter shopping list name",onChange:function(e){return t.setState({shoppingListName:e.target.value})}}),s.a.createElement("i",{class:"shopping bag icon"})),s.a.createElement("div",{className:"footer-button"},s.a.createElement("button",{class:"ui button",onClick:function(){return t.props.toggleModal("addShoppingList")}},"Close"),s.a.createElement("button",{class:"ui primary button ".concat(this.state.loading?"loading disabled":""),onClick:function(){return t.addShoppingList()}},"Create")))))}}]),e}(n.Component),j=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).addShoppingList=function(){if(a.state.shoppingListName){a.setState({loading:!0});var t=a.props.data[a.state.prevListName];delete a.props.data[a.state.prevListName],S.deleteTable("key"),S.add_new("key",Object(l.a)({},a.props.data,Object(c.a)({},a.state.shoppingListName,t))),setTimeout((function(){a.props.toggleModal("updateShoppingList"),a.props.getData()}),1e3)}else a.setState({empty:!0})},a.state={shoppingListName:a.props.listName,empty:!1,loading:!1,prevListName:a.props.listName},a}return Object(u.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"updateShoppingList-modal",className:"modal",onClick:function(e){return"updateShoppingList-modal"===e.target.id?t.props.toggleModal("updateShoppingList"):null}},s.a.createElement("div",{className:"container"},s.a.createElement("h4",null,"Update shopping list"),s.a.createElement("div",{style:{width:"100%"},class:"ui left icon ".concat(this.state.empty?"error":""," input")},s.a.createElement("input",{type:"text",className:"custom-input",value:this.state.shoppingListName,placeholder:"Update shopping list name",onChange:function(e){return t.setState({shoppingListName:e.target.value})}}),s.a.createElement("i",{class:"shopping bag icon"})),s.a.createElement("div",{className:"footer-button"},s.a.createElement("button",{class:"ui button",onClick:function(){return t.props.toggleModal("updateShoppingList")}},"Close"),s.a.createElement("button",{class:"ui primary button ".concat(this.state.loading?"loading disabled":""),onClick:function(){return t.addShoppingList()}},"Update")))))}}]),e}(n.Component),w=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).editItem=function(t){a.props.toggleModal("updateShoppingList",t)},a.deleteItem=function(t,e){var n=document.getElementById("delete_shop_list-".concat(e));n.className=n.className+" loading disabled";var s=a.state.data;s[a.state.shoppingListData.item].items.splice(e,1),delete n.parentNode.parentNode,S.add_new("key",Object(l.a)({},s)),setTimeout((function(){n.className=n.className.replace(" loading disabled",""),a.props.getData()}),1e3)},a.toggleItemStatus=function(t,e){var n=document.getElementById("animatable"+e),s=document.getElementById("strikeName"+e),i=document.getElementById("delete_shop_list-"+e),o=document.getElementById("changeColor"+e);document.getElementById("input"+e);if(t.status){var c=a.state.data,r=[];c[a.state.shoppingListData.item].items.map((function(e){e.name===t.name?r.push({name:t.name,status:!1}):r.push(e)})),c[a.state.shoppingListData.item].items=r,S.add_new("key",Object(l.a)({},c)),setTimeout((function(){a.props.getData(),n.className=n.className.replace(" full-width",""),s.className=s.className.replace(" whiteColor strike",""),i.className=i.className.replace(" whiteBG",""),o.className=o.className.replace(" primaryColor","")}),1e3)}else{var p=a.state.data,m=[];p[a.state.shoppingListData.item].items.map((function(e){e.name===t.name?m.push({name:t.name,status:!0}):m.push(e)})),p[a.state.shoppingListData.item].items=m,S.add_new("key",Object(l.a)({},p)),setTimeout((function(){a.props.getData(),n.className=n.className+" full-width",s.className=s.className+" whiteColor strike",i.className=i.className+" whiteBG",o.className=o.className+" primaryColor"}),1e3)}},a.state={data:a.props.data,shoppingListData:a.props.shoppingListData},a}return Object(u.a)(e,t),Object(p.a)(e,[{key:"componentDidUpdate",value:function(t){t.data!==this.props.data&&this.setState({data:this.props.data})}},{key:"render",value:function(){var t=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"shoppingListView"},s.a.createElement("div",{className:"head"},s.a.createElement("img",{src:"logo64.png",alt:"Logo"}),s.a.createElement("h2",{style:{margin:"0px"},className:"pointer",onClick:function(){return t.props.viewShoppingList(!1,null,{})}},s.a.createElement("i",{class:"times icon"}))),s.a.createElement("div",{style:{marginTop:"40px"},className:"body-content"},s.a.createElement("div",{className:"header-button",style:{marginBottom:"25px"}},s.a.createElement("h3",{style:{margin:"0px",color:"rgba(14, 92, 34, 100%)"}},this.state.shoppingListData.item),s.a.createElement("button",{className:"ui basic button primary",onClick:function(){return t.props.toggleModal("addItemToList",t.state.shoppingListData.item)}},"Add Item")),this.state.data[this.state.shoppingListData.item].items.map((function(e,a){return s.a.createElement("div",{key:a,className:"shoppingList pointer"},s.a.createElement("div",{id:"animatable"+a,className:"animatable-back ".concat(e.status?" full-width":"")}),s.a.createElement("div",{className:"left-details"},s.a.createElement("div",{className:"serial-no"},s.a.createElement("div",{class:"ui primary fitted checkbox"},s.a.createElement("input",{type:"checkbox",id:"input"+a,checked:e.status,onChange:function(n){return t.toggleItemStatus(e,a,n)}}),s.a.createElement("label",null))),s.a.createElement("div",{className:"name-date-shop-list"},s.a.createElement("p",{style:{marginBottom:"0px"},className:"".concat(e.status?" whiteColor strike":""),id:"strikeName"+a},e.name))),s.a.createElement("div",{className:"right-actions"},s.a.createElement("button",{id:"delete_shop_list-".concat(a),onClick:function(){return t.deleteItem(e,a)},className:"ui primary compact icon button ".concat(e.status?" whiteBG":"")},s.a.createElement("i",{id:"changeColor"+a,className:"trash alternate icon ".concat(e.status?" primaryColor":"")}))))})))))}}]),e}(n.Component),D=a(13),C=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).addShoppingList=function(){if(a.state.shoppingListName){a.setState({loading:!0});var t=a.props.data[a.props.currentShoppingList];t.items=[].concat(Object(D.a)(t.items),[{name:a.state.shoppingListName,status:!1}]),S.add_new("key",Object(l.a)({},a.props.data,Object(c.a)({},a.state.currentShoppingList,t))),setTimeout((function(){a.props.toggleModal("addItemToList"),a.props.getData()}),1e3)}else a.setState({empty:!0})},a.state={shoppingListName:"",empty:!1,loading:!1,currentShoppingList:a.props.currentShoppingList},a}return Object(u.a)(e,t),Object(p.a)(e,[{key:"componentDidUpdate",value:function(t){t.data!==this.props.data&&this.setState({data:this.props.data})}},{key:"render",value:function(){var t=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"addShoppingList-modal",className:"modal",onClick:function(e){return"addShoppingList-modal"===e.target.id?t.props.toggleModal("addItemToList"):null}},s.a.createElement("div",{className:"container"},s.a.createElement("h4",null,"Add items to shopping this list"),s.a.createElement("div",{style:{width:"100%"},class:"ui left icon ".concat(this.state.empty?"error":""," input")},s.a.createElement("input",{type:"text",className:"custom-input",value:this.state.shoppingListName,placeholder:"Enter items name",onChange:function(e){return t.setState({shoppingListName:e.target.value})}}),s.a.createElement("i",{class:"shopping bag icon"})),s.a.createElement("div",{className:"footer-button"},s.a.createElement("button",{class:"ui button",onClick:function(){return t.props.toggleModal("addItemToList")}},"Close"),s.a.createElement("button",{class:"ui primary button ".concat(this.state.loading?"loading disabled":""),onClick:function(){return t.addShoppingList()}},"Add to list")))))}}]),e}(n.Component),M=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).toggleModal=function(t,e){"updateShoppingList"===t&&e&&a.setState({updateShoppingListName:e}),"addItemToList"===t&&e&&a.setState({currentShoppingList:e}),a.setState({modal:Object(l.a)({},a.state.modal,Object(c.a)({},t,!a.state.modal[t]))})},a.getData=function(){S.fetchData("key").then((function(t){delete t.key,a.setState({data:t})}))},a.viewShoppingList=function(t,e,n){a.setState({viewShoppingList:{show:t,data:n,item:e}})},a.state={modal:{addShoppingList:!1,updateShoppingList:!1,addItemToList:!1},updateShoppingListName:"",currentShoppingList:"",data:null,viewShoppingList:{show:!1,data:{},item:null}},a}return Object(u.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.state.data?Object.keys(this.state.data).length>0?this.state.viewShoppingList.show?s.a.createElement(w,{data:this.state.data,getData:this.getData,toggleModal:this.toggleModal,shoppingListData:this.state.viewShoppingList,viewShoppingList:this.viewShoppingList}):s.a.createElement(k,{data:this.state.data,viewShoppingList:this.viewShoppingList,getData:this.getData,toggleModal:this.toggleModal}):s.a.createElement(g,{toggleModal:this.toggleModal}):s.a.createElement(s.a.Fragment,null),this.state.modal.addShoppingList?s.a.createElement(O,{toggleModal:this.toggleModal,getData:this.getData}):s.a.createElement(s.a.Fragment,null),this.state.modal.updateShoppingList?s.a.createElement(j,{data:this.state.data,listName:this.state.updateShoppingListName,toggleModal:this.toggleModal,getData:this.getData}):s.a.createElement(s.a.Fragment,null),this.state.modal.addItemToList?s.a.createElement(C,{toggleModal:this.toggleModal,currentShoppingList:this.state.currentShoppingList,data:this.state.data,getData:this.getData}):s.a.createElement(s.a.Fragment,null))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.5c06d229.chunk.js.map